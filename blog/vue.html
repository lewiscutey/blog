<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ä¸€æ–‡é€Ÿè§ˆVueå…¨æ ˆ | HOME</title>
    <meta name="description" content="æœ¬æ–‡ç®€å•ä»‹ç»äº†vueå…¨æ ˆ">
    <link rel="icon" href="/blog/favicon.ico">
    <meta name="keywords" content="vueã€vuexã€vue-router">
    <link rel="preload" href="/blog/assets/css/0.styles.03f43f65.css" as="style"><link rel="preload" href="/blog/assets/js/app.426b1919.js" as="script"><link rel="preload" href="/blog/assets/js/8.723e2475.js" as="script"><link rel="preload" href="/blog/assets/js/3.79418191.js" as="script"><link rel="preload" href="/blog/assets/js/16.d48bf774.js" as="script"><link rel="preload" href="/blog/assets/js/19.ff47a288.js" as="script"><link rel="preload" href="/blog/assets/js/13.7908793c.js" as="script"><link rel="preload" href="/blog/assets/js/64.fcc0d5d9.js" as="script"><link rel="preload" href="/blog/assets/js/5.da195e96.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.55a543e4.js"><link rel="prefetch" href="/blog/assets/js/11.e5597df6.js"><link rel="prefetch" href="/blog/assets/js/12.b7ba11c7.js"><link rel="prefetch" href="/blog/assets/js/14.4410875d.js"><link rel="prefetch" href="/blog/assets/js/15.b657430a.js"><link rel="prefetch" href="/blog/assets/js/17.eeefbc07.js"><link rel="prefetch" href="/blog/assets/js/18.010cd5bc.js"><link rel="prefetch" href="/blog/assets/js/20.d0f52bb3.js"><link rel="prefetch" href="/blog/assets/js/21.9bea050c.js"><link rel="prefetch" href="/blog/assets/js/22.ee11d625.js"><link rel="prefetch" href="/blog/assets/js/23.6e634148.js"><link rel="prefetch" href="/blog/assets/js/24.e0f856db.js"><link rel="prefetch" href="/blog/assets/js/25.f97f7d33.js"><link rel="prefetch" href="/blog/assets/js/26.7681393f.js"><link rel="prefetch" href="/blog/assets/js/27.102f400b.js"><link rel="prefetch" href="/blog/assets/js/28.46c69e24.js"><link rel="prefetch" href="/blog/assets/js/29.bb64475f.js"><link rel="prefetch" href="/blog/assets/js/30.12416738.js"><link rel="prefetch" href="/blog/assets/js/31.7cc64602.js"><link rel="prefetch" href="/blog/assets/js/32.175d94de.js"><link rel="prefetch" href="/blog/assets/js/33.89a17daf.js"><link rel="prefetch" href="/blog/assets/js/34.a0106064.js"><link rel="prefetch" href="/blog/assets/js/35.970f9d7e.js"><link rel="prefetch" href="/blog/assets/js/36.fa8d9d4e.js"><link rel="prefetch" href="/blog/assets/js/37.93b81ade.js"><link rel="prefetch" href="/blog/assets/js/38.f242f2da.js"><link rel="prefetch" href="/blog/assets/js/39.91d1d0fb.js"><link rel="prefetch" href="/blog/assets/js/4.acd5b20f.js"><link rel="prefetch" href="/blog/assets/js/40.ec8fc8a2.js"><link rel="prefetch" href="/blog/assets/js/41.51829cee.js"><link rel="prefetch" href="/blog/assets/js/42.5614ec93.js"><link rel="prefetch" href="/blog/assets/js/43.eb03efc3.js"><link rel="prefetch" href="/blog/assets/js/44.c9e2f6ff.js"><link rel="prefetch" href="/blog/assets/js/45.0a9bbd19.js"><link rel="prefetch" href="/blog/assets/js/46.27f8e029.js"><link rel="prefetch" href="/blog/assets/js/47.1e0af253.js"><link rel="prefetch" href="/blog/assets/js/48.a7d6b692.js"><link rel="prefetch" href="/blog/assets/js/49.d8dfe89c.js"><link rel="prefetch" href="/blog/assets/js/50.c134af69.js"><link rel="prefetch" href="/blog/assets/js/51.f1cb3058.js"><link rel="prefetch" href="/blog/assets/js/52.fb7584dc.js"><link rel="prefetch" href="/blog/assets/js/53.5e6bf0ad.js"><link rel="prefetch" href="/blog/assets/js/54.a139237b.js"><link rel="prefetch" href="/blog/assets/js/55.2c8c1bd1.js"><link rel="prefetch" href="/blog/assets/js/56.d09c9904.js"><link rel="prefetch" href="/blog/assets/js/57.ac762da0.js"><link rel="prefetch" href="/blog/assets/js/58.84bdcdb4.js"><link rel="prefetch" href="/blog/assets/js/59.d6c177ba.js"><link rel="prefetch" href="/blog/assets/js/6.acfbb48a.js"><link rel="prefetch" href="/blog/assets/js/60.93b65c4d.js"><link rel="prefetch" href="/blog/assets/js/61.f562ba6c.js"><link rel="prefetch" href="/blog/assets/js/62.3eb3a491.js"><link rel="prefetch" href="/blog/assets/js/63.5175822a.js"><link rel="prefetch" href="/blog/assets/js/65.681bdc18.js"><link rel="prefetch" href="/blog/assets/js/66.85152f7f.js"><link rel="prefetch" href="/blog/assets/js/67.b6ff2ed4.js"><link rel="prefetch" href="/blog/assets/js/68.f115d1bc.js"><link rel="prefetch" href="/blog/assets/js/69.0259fb8a.js"><link rel="prefetch" href="/blog/assets/js/7.1e8f103c.js"><link rel="prefetch" href="/blog/assets/js/70.176336c8.js"><link rel="prefetch" href="/blog/assets/js/9.123bc00f.js"><link rel="prefetch" href="/blog/assets/js/vendors~flowchart.9809e798.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.03f43f65.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme"><header class="navbar"><div class="nav-header"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><img src="/blog/img/logo.png" class="logo"> <span class="site-name can-hide">
        HOME
      </span></a> <nav class="nav-links can-hide"><ul class="nav-ul"><li class="nav-item"><a href="/blog/" class="nav-link">Blog</a></li><li class="nav-item"><a href="/blog/about/" class="nav-link">About</a></li><li class="nav-item"><a href="/blog/tag/" class="nav-link">Tags</a></li><li class="nav-item"><a href="http://www.cnblogs.com/lewiscutey/" target="_blank" rel="noopener noreferrer" class="nav-link">CSDN</a></li><li class="nav-item"><a href="https://github.com/lewiscutey" target="_blank" rel="noopener noreferrer" class="nav-link">Github</a></li></ul></nav> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div></div></div></header> <div class="sidebar-mask"></div> <!----> <div class="layout-container"><div class="main"><div class="layout-inner"><div class="card"><div class="content-header"><h1 class="page-title">ä¸€æ–‡é€Ÿè§ˆVueå…¨æ ˆ</h1> <span class="page-timestamp">2019-07-07 22:36:32</span></div> <div class="content default"><blockquote><p>Vue æ˜¯ä¸€å¥—ç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„<strong>æ¸è¿›å¼æ¡†æ¶</strong>ã€‚ä¸å…¶å®ƒå¤§å‹æ¡†æ¶ä¸åŒçš„æ˜¯ï¼ŒVue è¢«è®¾è®¡ä¸ºå¯ä»¥<strong>è‡ªåº•å‘ä¸Šé€å±‚åº”ç”¨</strong>ï¼Œä¸“æ³¨äº<strong>å£°æ˜å¼æ¸²æŸ“è§†å›¾å±‚</strong>ï¼Œç»“åˆ<strong>ä¸°å¯Œçš„ç”Ÿæ€ç³»ç»Ÿå’Œæ ¸å¿ƒæ’ä»¶</strong>ï¼Œè‡´åŠ›äº<strong>ç®€å•çµæ´»å¿«é€Ÿé©±åŠ¨SPAã€MPAç­‰å¤§å°å‹åº”ç”¨</strong>ã€‚</p></blockquote> <p>æœ¬æ–‡ä¾æ¬¡ä»‹ç» <strong>åŒå‘æ•°æ®ç»‘å®š</strong>ã€<strong>è®¡ç®—å±æ€§</strong>ã€<strong>ç»„ä»¶</strong>ã€<strong>äº‹ä»¶æœºåˆ¶</strong>ã€<strong>æ’ä»¶æœºåˆ¶</strong>ã€<strong>å‰ç«¯è·¯ç”±</strong>ã€<strong>çŠ¶æ€ç®¡ç†</strong>å’Œ<strong>æœåŠ¡ç«¯æ¸²æŸ“</strong>ç­‰ã€‚</p> <h2 id="_1-vueå®ä¾‹ä¸æ•°æ®ç»‘å®š"><a href="#_1-vueå®ä¾‹ä¸æ•°æ®ç»‘å®š" aria-hidden="true" class="header-anchor">#</a> 1. Vueå®ä¾‹ä¸æ•°æ®ç»‘å®š</h2> <h3 id="å®ä¾‹"><a href="#å®ä¾‹" aria-hidden="true" class="header-anchor">#</a> å®ä¾‹</h3> <p><strong>Vue.jsåº”ç”¨</strong>çš„åˆ›å»ºå¾ˆç®€å•ï¼Œé€šè¿‡æ„é€ å‡½æ•° Vue å°±å¯ä»¥åˆ›å»ºä¸€ä¸ª Vue çš„æ ¹å®ä¾‹ï¼Œå¹¶å¯åŠ¨ Vueï¼›</p> <div class="language- extra-class"><pre class="language-text"><code>var app = new Vue({
    //é€‰é¡¹
});
</code></pre></div><p>å˜é‡ app å°±ä»£è¡¨äº†è¿™ä¸ª Vue å®ä¾‹,äº‹å®ä¸Šå‡ ä¹æ‰€æœ‰çš„ä»£ç éƒ½æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œç”¨æ¥å†™å…¥ Vue å®ä¾‹çš„é€‰é¡¹å†…çš„ã€‚</p> <p>é¦–å…ˆï¼Œå¿…ä¸å¯å°‘çš„ä¸€ä¸ªé€‰é¡¹å°±æ˜¯elï¼Œelç”¨äºæŒ‡å®šä¸€ä¸ªé¡µé¢ä¸­å·±å­˜åœ¨çš„DOMå…ƒç´ æ¥æŒ‚è½½Vue å®ä¾‹ï¼Œå®ƒå¯ä»¥æ˜¯ HTMLElement ï¼Œä¹Ÿå¯ä»¥æ˜¯CSSé€‰æ‹©å™¨ï¼Œæ¯”å¦‚:</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;div id='app'&gt;&lt;/div&gt;
var app =new Vue({
    el: document.getElementByld('app')  // æˆ–è€…æ˜¯'#app'
});
</code></pre></div><p><strong>ä¸€ä¸ª Vue åº”ç”¨ç”±ä¸€ä¸ªé€šè¿‡ new Vue() åˆ›å»ºçš„æ ¹Vueå®ä¾‹ï¼Œä»¥åŠå¯é€‰çš„åµŒå¥—çš„ã€å¯å¤ç”¨çš„ç»„ä»¶æ ‘ç»„æˆã€‚</strong></p> <h3 id="æ•°æ®ç»‘å®š"><a href="#æ•°æ®ç»‘å®š" aria-hidden="true" class="header-anchor">#</a> æ•°æ®ç»‘å®š</h3> <p>å½“ä¸€ä¸ª Vue å®ä¾‹è¢«åˆ›å»ºæ—¶ï¼Œå®ƒå°† data å¯¹è±¡ä¸­çš„æ‰€æœ‰çš„å±æ€§åŠ å…¥åˆ° Vue çš„å“åº”å¼ç³»ç»Ÿä¸­ã€‚å½“è¿™äº›å±æ€§çš„å€¼å‘ç”Ÿæ”¹å˜æ—¶ï¼Œè§†å›¾å°†ä¼šäº§ç”Ÿâ€œå“åº”â€ï¼Œå³åŒ¹é…æ›´æ–°ä¸ºæ–°çš„å€¼ã€‚</p> <p>å»ºè®®æ‰€æœ‰ä¼šç”¨åˆ°çš„æ•°æ®éƒ½é¢„å…ˆåœ¨dataå†…å£°æ˜ï¼Œè¿™æ ·ä¸è‡³äºå°†æ•°æ®æ•£è½åœ¨ä¸šåŠ¡é€»è¾‘ä¸­ï¼Œéš¾ä»¥ç»´æŠ¤ã€‚
Vueå®ä¾‹æœ¬èº«ä¹Ÿä»£ç†äº† dataå¯¹è±¡é‡Œçš„æ‰€æœ‰å±æ€§ï¼Œæ‰€ä»¥å¯ä»¥è¿™æ ·è®¿é—®:</p> <div class="language- extra-class"><pre class="language-text"><code>var app = new Vue({
    el: '#app',
    data: {
        a: 2
    }
});
console.log(app.a);  // 2
</code></pre></div><p>é™¤äº†æ˜¾å¼åœ°å£°æ˜æ•°æ®å¤–ï¼Œä¹Ÿå¯ä»¥æŒ‡å‘ä¸€ä¸ªå·±æœ‰çš„å˜é‡ï¼Œå¹¶ä¸”å®ƒä»¬ä¹‹é—´é»˜è®¤å»ºç«‹äº†åŒå‘ç»‘å®šï¼Œå½“ä¿®æ”¹å…¶ä¸­ä»»æ„ä¸€ä¸ªæ—¶ï¼Œå¦ä¸€ä¸ªä¹Ÿä¼šä¸€èµ·å˜åŒ–:</p> <div class="language- extra-class"><pre class="language-text"><code>var myData = {
    a: 1
};
var app =new Vue({
    el: '#app',
    data: myData
});
console.log(app.a) ; // 1
//ä¿®æ”¹å±æ€§ï¼ŒåŸæ•°æ®ä¹Ÿä¼šéšä¹‹ä¿®æ”¹
app.a = 2;
console.log(myData.a); // 2
//åä¹‹ï¼Œä¿®æ”¹åŸæ•°æ®ï¼Œ Vueå±æ€§ä¹Ÿä¼šä¿®æ”¹
myData.a = 3;
console.log(app.a); // 3
</code></pre></div><h3 id="ç”Ÿå‘½å‘¨æœŸ"><a href="#ç”Ÿå‘½å‘¨æœŸ" aria-hidden="true" class="header-anchor">#</a> ç”Ÿå‘½å‘¨æœŸ</h3> <p>æ¯ä¸ª Vue å®ä¾‹åˆ›å»ºæ—¶ï¼Œéƒ½ä¼šç»å†ä¸€ç³»åˆ—çš„åˆå§‹åŒ–è¿‡ç¨‹ï¼ŒåŒæ—¶ä¹Ÿä¼šè°ƒç”¨ç›¸åº”çš„ç”Ÿå‘½å‘¨æœŸé’©å­ï¼Œ æˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™äº›é’©å­ï¼Œåœ¨åˆé€‚çš„æ—¶æœºæ‰§è¡Œæˆ‘ä»¬çš„ä¸šåŠ¡é€»è¾‘ã€‚</p> <p><img src="https://user-gold-cdn.xitu.io/2019/7/7/16bcbc821a6e2e73?w=1200&amp;h=3039&amp;f=png&amp;s=50021" alt=""></p> <p>Vueçš„ç”Ÿå‘½å‘¨æœŸå¤§è‡´åˆ†ä¸ºå››ä¸ªé˜¶æ®µï¼š</p> <p><strong>beforeCreate</strong>ï¼ˆæ­¤æ—¶dateã€methodå’Œelå‡æ²¡æœ‰åˆå§‹åŒ–ï¼Œå¯ä»¥åœ¨æ­¤åŠ è½½loadingï¼‰
<strong>created</strong>ï¼ˆæ­¤æ—¶dateå’Œmethodåˆå§‹åŒ–å®Œæˆï¼Œä½†æ˜¯DOMèŠ‚ç‚¹å¹¶æ²¡æœ‰æŒ‚è½½ï¼Œåˆ¤æ–­æ˜¯å¦æœ‰elèŠ‚ç‚¹ï¼Œå¦‚æœæœ‰åˆ™ç¼–è¯‘templateï¼Œå¦‚æœæ²¡æœ‰åˆ™ä½¿ç”¨vm.$mountåˆ›å»ºä¸€ä¸ªé»˜è®¤èŠ‚ç‚¹ï¼Œæ­¤æ—¶å¯ä»¥åœ¨DOMæ¸²æŸ“ä¹‹å‰è¿›è¡Œæ•°æ®çš„åˆå§‹åŒ–å’Œmethodçš„è‡ªæ‰§è¡Œç­‰ï¼‰</p> <p><strong>beforeMount</strong>ï¼ˆç¼–è¯‘æ¨¡æ¿ï¼Œå¹¶ä¸”å°†æ­¤æ—¶åœ¨elä¸ŠæŒ‚è½½ä¸€ä¸ªè™šæ‹Ÿçš„DOMèŠ‚ç‚¹ï¼‰
<strong>mounted</strong>ï¼ˆç¼–è¯‘æ¨¡æ¿ï¼Œä¸”å°†çœŸå®çš„DOMèŠ‚ç‚¹æŒ‚è½½åœ¨elä¸Šï¼‰</p> <p><strong>beforeUpdate</strong>ï¼ˆåœ¨æ•°æ®æœ‰æ›´æ–°æ—¶ï¼Œè¿›å…¥æ­¤é’©å­å‡½æ•°ï¼Œè™šæ‹ŸDOMè¢«é‡æ–°åˆ›å»ºï¼‰
<strong>update</strong>dï¼ˆæ•°æ®æ›´æ–°å®Œæˆæ—¶ï¼Œè¿›å…¥æ­¤é’©å­å‡½æ•°ï¼‰</p> <p><strong>beforeDestory</strong>ï¼ˆç»„ä»¶é”€æ¯å‰è°ƒç”¨ï¼Œæ­¤æ—¶å°†ç»„ä»¶ä¸Šçš„watchersã€å­ç»„ä»¶å’Œäº‹ä»¶éƒ½ç§»é™¤æ‰ï¼‰
<strong>destoryed</strong>ï¼ˆç»„ä»¶é”€æ¯åè°ƒç”¨ï¼‰</p> <p><strong>åœ¨åˆ›å»ºæ—¶ï¼Œçˆ¶å­ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸæ˜¯ï¼š</strong>
çˆ¶ç»„ä»¶beforeCreated -&gt; çˆ¶ç»„ä»¶created -&gt; çˆ¶ç»„ä»¶beforeMounted -&gt; å­ç»„ä»¶beforeCreated -&gt; å­ç»„ä»¶created -&gt; å­ç»„ä»¶beforeMounted -&gt; å­ç»„ä»¶mounted -&gt; çˆ¶ç»„ä»¶mountedã€‚</p> <p><strong>åœ¨é”€æ¯æ—¶ï¼Œçˆ¶å­ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸæ˜¯ï¼š</strong>
çˆ¶ç»„ä»¶beforeDestory -&gt; å­ç»„ä»¶beforeDestoryed -&gt; å­ç»„ä»¶destoryed -&gt; çˆ¶ç»„ä»¶destoryed</p> <p>æ€»ä¹‹è®°ä½ï¼Œçˆ¶å­ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸéµå¾ªï¼š<strong>ç”±å¤–åˆ°å†…ï¼Œå†ç”±å†…åˆ°å¤–</strong>ã€‚</p> <div class="language-! extra-class"><pre class="language-text"><code>ä¸è¦åœ¨é€‰é¡¹å±æ€§æˆ–å›è°ƒä¸Šä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Œvueä¼šè‡ªåŠ¨ç»‘å®šthisçš„ä¸Šä¸‹æ–‡ç¯å¢ƒã€‚
</code></pre></div><h3 id="æ¨¡ç‰ˆè¯­æ³•"><a href="#æ¨¡ç‰ˆè¯­æ³•" aria-hidden="true" class="header-anchor">#</a> æ¨¡ç‰ˆè¯­æ³•</h3> <p>Vue.js ä½¿ç”¨äº†åŸºäº HTML çš„æ¨¡æ¿è¯­æ³•ï¼Œå…è®¸å¼€å‘è€…å£°æ˜å¼åœ°å°† DOM ç»‘å®šè‡³åº•å±‚ Vue å®ä¾‹çš„æ•°æ®ã€‚æ‰€æœ‰ Vue.js çš„æ¨¡æ¿éƒ½æ˜¯åˆæ³•çš„ HTML ï¼Œæ‰€ä»¥èƒ½è¢«éµå¾ªè§„èŒƒçš„æµè§ˆå™¨å’Œ HTML è§£æå™¨è§£æã€‚</p> <p>åœ¨åº•å±‚çš„å®ç°ä¸Šï¼ŒVue å°†æ¨¡æ¿ç¼–è¯‘æˆè™šæ‹Ÿ DOM æ¸²æŸ“å‡½æ•°ã€‚ç»“åˆå“åº”ç³»ç»Ÿï¼ŒVue èƒ½å¤Ÿæ™ºèƒ½åœ°è®¡ç®—å‡ºæœ€å°‘éœ€è¦é‡æ–°æ¸²æŸ“å¤šå°‘ç»„ä»¶ï¼Œå¹¶æŠŠ DOM æ“ä½œæ¬¡æ•°å‡åˆ°æœ€å°‘ã€‚</p> <p>ä½¿ç”¨<code>åŒå¤§æ‹¬å·(Mustache è¯­æ³•)â€œ{{}}â€</code>æ˜¯æœ€åŸºæœ¬çš„æ–‡æœ¬æ’å€¼æ–¹æ³•ï¼Œå®ƒä¼šè‡ªåŠ¨å°†æˆ‘ä»¬åŒå‘ç»‘å®šçš„æ•°æ®å®æ—¶æ˜¾ç¤ºå‡ºæ¥ï¼Œ</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;span&gt;Message: {{ msg }}&lt;/span&gt;
</code></pre></div><p>å¦‚æœæƒ³æ˜¾ç¤º<code>{{}}</code>æ ‡ç­¾ï¼Œè€Œä¸è¿›è¡Œæ›¿æ¢ï¼Œä½¿ç”¨v-preå³å¯è·³è¿‡è¿™ä¸ªå…ƒç´ å’Œå®ƒçš„å­å…ƒç´ çš„ç¼–è¯‘è¿‡ç¨‹ï¼Œä¾‹å¦‚ :</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;span v-pre&gt;{{è¿™é‡Œçš„å†…å®¹æ˜¯ä¸ä¼šè¢«ç¼–è¯‘çš„}}&lt;/span&gt;
</code></pre></div><p>åœ¨<code>{{}}</code>ä¸­ï¼Œé™¤äº†ç®€å•çš„ç»‘å®šå±æ€§å€¼å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨JavaScriptè¡¨è¾¾å¼è¿›è¡Œç®€å•çš„è¿ç®—ã€ä¸‰å…ƒè¿ç®—ç­‰ï¼Œä¾‹å¦‚ :</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;div id='app'&gt;
    {{ number / 10 ))
    {{ isOK ? â€™ç¡®å®šâ€™ : â€™å–æ¶ˆâ€™ }}
    {{ text.split(â€™,â€™).reverse().join(â€™,â€™) }}
&lt;/div&gt;
</code></pre></div><p>é€šè¿‡ä½¿ç”¨ <code>v-once</code> æŒ‡ä»¤ï¼Œä½ ä¹Ÿèƒ½æ‰§è¡Œä¸€æ¬¡æ€§åœ°æ’å€¼ï¼Œå½“æ•°æ®æ”¹å˜æ—¶ï¼Œæ’å€¼å¤„çš„å†…å®¹ä¸ä¼šæ›´æ–°ã€‚ä½†è¯·ç•™å¿ƒè¿™ä¼šå½±å“åˆ°è¯¥èŠ‚ç‚¹ä¸Šçš„å…¶å®ƒæ•°æ®ç»‘å®šï¼š</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;span v-once&gt;è¿™ä¸ªå°†ä¸ä¼šæ”¹å˜: {{ msg }}&lt;/span&gt;
</code></pre></div><p>å¦‚æœä½ ç†Ÿæ‚‰è™šæ‹Ÿ DOM å¹¶ä¸”åçˆ± JavaScript çš„åŸå§‹åŠ›é‡ï¼Œä½ ä¹Ÿå¯ä»¥ä¸ç”¨æ¨¡æ¿ï¼Œç›´æ¥å†™<code>æ¸²æŸ“ (render)</code>å‡½æ•°ï¼Œä½¿ç”¨å¯é€‰çš„ <code>JSX</code> è¯­æ³•ã€‚</p> <h3 id="æŒ‡ä»¤"><a href="#æŒ‡ä»¤" aria-hidden="true" class="header-anchor">#</a> æŒ‡ä»¤</h3> <p><strong>æŒ‡ä»¤(Directives)</strong> æ˜¯å¸¦æœ‰ <code>v-</code> å‰ç¼€çš„ç‰¹æ®Šç‰¹æ€§ã€‚æŒ‡ä»¤ç‰¹æ€§çš„å€¼é¢„æœŸæ˜¯å•ä¸ª JavaScript è¡¨è¾¾å¼ (v-foræ˜¯ä¾‹å¤–æƒ…å†µ)ã€‚æŒ‡ä»¤çš„èŒè´£æ˜¯å½“è¡¨è¾¾å¼çš„å€¼æ”¹å˜æ—¶ï¼Œå°†å…¶äº§ç”Ÿçš„è¿å¸¦å½±å“ï¼Œå“åº”å¼åœ°ä½œç”¨äº DOMã€‚
å¸¸ç”¨çš„æŒ‡ä»¤å¦‚ä¸‹ï¼š</p> <ul><li><strong>v-cloak</strong></li></ul> <p><strong>v-cloak</strong>ä¸éœ€è¦è¡¨è¾¾å¼ï¼Œå®ƒä¼šåœ¨ Vue å®ä¾‹ç»“æŸç¼–è¯‘æ—¶ä»ç»‘å®šçš„ HTML å…ƒç´ ä¸Šç§»é™¤ ï¼Œ
ç»å¸¸å’Œcssçš„ <strong>display: none</strong>é…åˆä½¿ç”¨:</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;div id='app' v-cloak&gt; {{ message }}&lt;/div&gt;
&lt;style&gt;
[v-cloak] {
    display: none;
}
&lt;/style&gt;
</code></pre></div><p>å½“ç½‘é€Ÿè¾ƒæ…¢ Vue.js æ–‡ä»¶è¿˜æ²¡åŠ è½½å®Œæ—¶ï¼Œåœ¨é¡µé¢ä¸Šä¼šæ˜¾ç¤º{ { message }}çš„å­—æ ·ï¼Œç›´åˆ° Vue åˆ›å»ºå®ä¾‹ã€ç¼–è¯‘æ¨¡æ¿æ—¶ï¼Œ DOM æ‰ä¼šè¢«æ›¿æ¢ï¼Œæ‰€ä»¥è¿™ä¸ªè¿‡ç¨‹å±å¹•æ˜¯æœ‰é—ªåŠ¨çš„,åªè¦åŠ ä¸Š<strong>v-cloak</strong>å°±å¯ä»¥é¿å…äº†ã€‚åœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œ <strong>v-cloak</strong> æ˜¯ä¸€ä¸ªè§£å†³åˆå§‹åŒ–æ…¢å¯¼è‡´é¡µé¢é—ªåŠ¨çš„æœ€ä½³å®è·µï¼Œå¯¹äºç®€å•çš„é¡¹ç›®å¾ˆå®ç”¨ï¼Œä½†æ˜¯åœ¨å…·æœ‰å·¥ç¨‹åŒ–çš„é¡¹ç›®é‡Œï¼Œé¡¹ç›®çš„HTML ç»“æ„åªæœ‰ä¸€ä¸ªç©ºçš„ divå…ƒç´ ï¼Œå‰©ä½™çš„å†…å®¹éƒ½æ˜¯ç”±è·¯ç”±å»æŒ‚è½½ä¸åŒç»„ä»¶å®Œæˆçš„ï¼Œæ‰€ä»¥ä¸å†éœ€è¦ <strong>v-cloak</strong>ï¼›</p> <ul><li><strong>v-once</strong></li></ul> <p><strong>v-once</strong> ä¹Ÿæ˜¯ä¸€ä¸ªä¸éœ€è¦è¡¨è¾¾å¼çš„æŒ‡ä»¤ï¼Œä½œç”¨æ˜¯å®šä¹‰å®ƒçš„å…ƒç´ æˆ–ç»„ä»¶åªæ¸²æŸ“ä¸€æ¬¡ï¼ŒåŒ…æ‹¬å…ƒç´ æˆ–ç»„ä»¶çš„æ‰€æœ‰å­èŠ‚ç‚¹ã€‚é¦–æ¬¡æ¸²æŸ“åï¼Œä¸å†éšæ•°æ®çš„å˜åŒ–é‡æ–°æ¸²æŸ“ï¼Œå°†è¢«è§†ä¸ºé™æ€å†…å®¹ï¼Œä¾‹å¦‚:</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;span v-once&gt;{{ message }}&lt;/div&gt;
</code></pre></div><p><strong>v-once</strong>åœ¨ä¸šåŠ¡ä¸­ä¹Ÿå¾ˆå°‘ä½¿ç”¨ï¼Œå½“ä½ éœ€è¦è¿›ä¸€æ­¥ä¼˜åŒ–æ€§èƒ½æ—¶ï¼Œå¯èƒ½ä¼šç”¨åˆ°ã€‚</p> <ul><li><strong>v-html</strong></li></ul> <p>ä¸ºäº†è¾“å‡ºçœŸæ­£çš„ HTMLï¼Œéœ€è¦ä½¿ç”¨ v-html æŒ‡ä»¤;</p> <div class="language- extra-class"><pre class="language-text"><code>var contenthtml = `&lt;span&gt;å“ˆå“ˆå¤§ç¬‘ğŸ˜„&lt;/span&gt;`;
&lt;span v-html=&quot;contenthtml&quot;&gt;&lt;/span&gt;
</code></pre></div><div class="language-! extra-class"><pre class="language-text"><code>ä½ çš„ç«™ç‚¹ä¸ŠåŠ¨æ€æ¸²æŸ“çš„ä»»æ„ HTML å¯èƒ½ä¼šéå¸¸å±é™©ï¼Œå› ä¸ºå®ƒå¾ˆå®¹æ˜“å¯¼è‡´ XSS æ”»å‡»ã€‚è¯·åªå¯¹å¯ä¿¡å†…å®¹ä½¿ç”¨ HTML æ’å€¼ï¼Œç»ä¸è¦å¯¹ç”¨æˆ·æä¾›çš„å†…å®¹ä½¿ç”¨æ’å€¼,å¿…è¦æ—¶åœ¨æœåŠ¡ç«¯è¿›è¡Œæå‰è¿‡æ»¤è½¬ä¹‰ã€‚
</code></pre></div><ul><li><strong>v-if</strong></li></ul> <p>ç”¨äºæ¡ä»¶æ€§åœ°æ¸²æŸ“ä¸€å—å†…å®¹ï¼Œè¯¥æŒ‡ä»¤æ˜¯æƒ°æ€§çš„ï¼Œå½“åˆå§‹å€¼ä¸ºfalseæ—¶domèŠ‚ç‚¹ä¸ä¼šè¿›è¡Œæ¸²æŸ“ï¼Œæ˜¯é’ˆå¯¹domèŠ‚ç‚¹çš„ç§»é™¤å’Œæ·»åŠ ï¼Œä¾‹å¦‚ :</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;div id='app'&gt;
    &lt;span v-if='false'&gt;{{ message }}&lt;/span&gt;
&lt;/div&gt;
// ä¼šè¢«æ¸²æŸ“ä¸ºä»¥ä¸‹èŠ‚ç‚¹ï¼š
&lt;div id='app'&gt;&lt;/div&gt;
</code></pre></div><ul><li><strong>v-show</strong></li></ul> <p><strong>v-show</strong>çš„ç”¨æ³•ä¸<strong>v-if</strong>åŸºæœ¬ä¸€è‡´ï¼Œåªä¸è¿‡<strong>v-show</strong>æ˜¯æ”¹å˜å…ƒç´ çš„<strong>csså±æ€§display</strong>ã€‚å½“v-show è¡¨è¾¾å¼çš„å€¼ä¸º false æ—¶ï¼Œ å…ƒç´ ä¼šéšè—ï¼ŒæŸ¥çœ‹ DOM ç»“æ„ä¼šçœ‹åˆ°å…ƒç´ ä¸ŠåŠ è½½äº†å†…è”æ ·å¼ display: none; ä¾‹å¦‚ :</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;div id='app'&gt;
    &lt;span v-show='false'&gt;{{ message }}&lt;/span&gt;
&lt;/div&gt;
// ä¼šè¢«æ¸²æŸ“ä¸ºä»¥ä¸‹èŠ‚ç‚¹
&lt;div id='app'&gt;
    &lt;span style=&quot;display: none;â€&gt;å“ˆå“ˆå¤§ç¬‘ğŸ˜„&lt;/span&gt;
&lt;/div&gt;
</code></pre></div><div class="language-! extra-class"><pre class="language-text"><code>v-showä¸èƒ½åœ¨&lt;template&gt;ä¸Šä½¿ç”¨ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œ v-ifæ›´é€‚åˆæ¡ä»¶ä¸ç»å¸¸æ”¹å˜çš„åœºæ™¯ï¼Œå› ä¸ºå®ƒåˆ‡æ¢å¼€é”€ç›¸å¯¹è¾ƒå¤§ï¼Œè€Œ v-show é€‚ç”¨äºé¢‘ç¹åˆ‡æ¢æ¡ä»¶ã€‚
</code></pre></div><ul><li><strong>v-else</strong></li></ul> <p><strong>v-else</strong> å…ƒç´ å¿…é¡»ç´§è·Ÿåœ¨å¸¦ <strong>v-if</strong> æˆ–è€… <strong>v-else-if</strong>çš„å…ƒç´ çš„åé¢ï¼Œå¦åˆ™å®ƒå°†ä¸ä¼šè¢«è¯†åˆ«ã€‚ä¾‹å¦‚ :</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;span v-if='show'&gt;{{ message.a }}&lt;/span&gt;
&lt;span v-else&gt;{{ message.b }}&lt;/span&gt;
</code></pre></div><ul><li><strong>v-for</strong></li></ul> <p>å½“éœ€è¦å°†ä¸€ä¸ªæ•°ç»„éå†æˆ–æšä¸¾ä¸€ä¸ªå¯¹è±¡å¾ªç¯æ˜¾ç¤ºæ—¶ï¼Œå°±ä¼šç”¨åˆ°åˆ—è¡¨æ¸²æŸ“æŒ‡ä»¤ <strong>v-for</strong>ã€‚å®ƒçš„è¡¨è¾¾å¼éœ€ç»“åˆ inæ¥ä½¿ç”¨ï¼Œç±»ä¼¼ item in items çš„å½¢å¼ï¼Œçœ‹ä¸‹é¢çš„ç¤ºä¾‹ :</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;ul&gt;
    &lt;li v-for=â€book in booksâ€ :key=&quot;book.id&quot;&gt;{{ book.name }}&lt;/li&gt;
&lt;/ul&gt;
</code></pre></div><p>å½“ Vue æ­£åœ¨æ›´æ–°ä½¿ç”¨ v-for æ¸²æŸ“çš„å…ƒç´ åˆ—è¡¨æ—¶ï¼Œå®ƒé»˜è®¤ä½¿ç”¨â€œå°±åœ°æ›´æ–°â€çš„ç­–ç•¥ã€‚å¦‚æœæ•°æ®é¡¹çš„é¡ºåºè¢«æ”¹å˜ï¼ŒVue å°†ä¸ä¼šç§»åŠ¨ DOM å…ƒç´ æ¥åŒ¹é…æ•°æ®é¡¹çš„é¡ºåºï¼Œè€Œæ˜¯å°±åœ°æ›´æ–°æ¯ä¸ªå…ƒç´ ï¼Œå¹¶ä¸”ç¡®ä¿å®ƒä»¬åœ¨æ¯ä¸ªç´¢å¼•ä½ç½®æ­£ç¡®æ¸²æŸ“,æ‰€ä»¥éœ€è¦ä¸ºæ¯ä¸ªå…ƒç´ è®¾ç½®å”¯ä¸€çš„<strong>key</strong>ã€‚</p> <ul><li><strong>v-bind</strong></li></ul> <p><strong>v-bind</strong>ç”¨äºåŠ¨æ€æ›´æ–° HTML å…ƒç´ ä¸Šçš„å±æ€§ï¼Œæ¯”å¦‚ idã€classç­‰ï¼›</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;div id=â€appâ€&gt;
    &lt;a v-bind:href=â€urlâ€ã€‰é“¾æ¥&lt;/a&gt;
    &lt;img v-bind:src=â€imgUrlâ€&gt;
&lt;/div&gt;
</code></pre></div><p>ä»¥ä¸Šæ˜¯ <strong>v-bind</strong> æœ€åŸºæœ¬çš„ç”¨æ³•ï¼Œå®ƒåœ¨ Vue.js ç»„ä»¶ä¸­è¿˜æœ‰ç€æå…¶é‡è¦çš„ä½œç”¨ï¼Œå¯ä»¥ç®€å†™ä¸º<code>ï¼š</code>ï¼›</p> <ul><li><strong>v-on</strong></li></ul> <p><strong>v-on</strong>åœ¨äº‹ä»¶ç»‘å®šä¸Šï¼Œç±»ä¼¼åŸç”Ÿ JavaScript çš„ onclickç­‰å†™æ³•ï¼Œä¹Ÿæ˜¯åœ¨ HTML ä¸Šè¿›è¡Œç›‘æ˜•çš„,ä¾‹å¦‚ï¼š</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;button v-on:click=â€counter++â€&gt;+ 1&lt;/button&gt;
</code></pre></div><p><strong>v-on:click</strong>çš„è¡¨è¾¾å¼å¯ä»¥ç›´æ¥ä½¿ç”¨ JavaScript è¯­å¥ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªåœ¨ Vueå®ä¾‹ä¸­ methodsé€‰é¡¹å†…çš„å‡½æ•°å,ä¾‹å¦‚ï¼š</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;button v-on:click=â€handleAdd(1)â€&gt;+ 1&lt;/button&gt;

methods: {
    handleAdd: function(count) {
        this.counter += count;
    }
}
</code></pre></div><p>v-on:clickè°ƒç”¨çš„æ–¹æ³•ååå¯ä»¥ä¸è·Ÿæ‹¬å·â€œ()â€ ;</p> <p>Vue æä¾›äº† ä¸€ä¸ªç‰¹æ®Šå˜é‡$eventï¼Œç”¨äºè®¿é—®åŸç”ŸDOMäº‹ä»¶ï¼Œä¾‹å¦‚ä¸‹é¢çš„å®ä¾‹å¯ä»¥é˜»æ­¢é“¾æ¥æ‰“å¼€ï¼›</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;a href=â€http://www.apple.comâ€ @click=&quot;handleClick ('ç¦æ­¢æ‰“å¼€'ï¼Œ$event)&quot;&gt;
æ‰“å¼€é“¾æ¥ &lt;/a&gt;

methods: {
    handleClick: function(message, event) {
        event.preventDefault();
    }
}
</code></pre></div><p><strong>v-on</strong>å¯ä»¥ç®€å†™ä¸º<code>@</code>ã€‚</p> <ul><li><strong>v-model</strong></li></ul> <p><strong>v-model</strong>ç”¨äºè¡¨å•ï¼Œè¿›è¡ŒåŒå‘æ•°æ®ç»‘å®šã€‚ä¾‹å¦‚ï¼š</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;input type=â€textâ€ id=&quot;name&quot; v-model=&quot;fullname&quot; /&gt;
&lt;p&gt;ä½ å¥½ï¼Œ{{fullname}} !&lt;/p&gt;
</code></pre></div><h3 id="è¿‡æ»¤å™¨"><a href="#è¿‡æ»¤å™¨" aria-hidden="true" class="header-anchor">#</a> è¿‡æ»¤å™¨</h3> <p>Vue.js å…è®¸ä½ è‡ªå®šä¹‰è¿‡æ»¤å™¨ï¼Œå¯è¢«ç”¨äºä¸€äº›å¸¸è§çš„æ–‡æœ¬æ ¼å¼åŒ–ã€‚è¿‡æ»¤å™¨å¯ä»¥ç”¨åœ¨ä¸¤ä¸ªåœ°æ–¹ï¼š<strong>åŒèŠ±æ‹¬å·æ’å€¼</strong>å’Œ <strong>v-bind è¡¨è¾¾å¼</strong>ã€‚è¿‡æ»¤å™¨åº”è¯¥è¢«æ·»åŠ åœ¨ JavaScript è¡¨è¾¾å¼çš„å°¾éƒ¨ï¼Œç”±â€œç®¡é“â€ç¬¦å·æŒ‡ç¤ºï¼š</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;!-- åœ¨åŒèŠ±æ‹¬å·ä¸­ --&gt;
{{ message | capitalize }}

&lt;!-- åœ¨ `v-bind` ä¸­ --&gt;
&lt;div v-bind:id=&quot;rawId | formatId&quot;&gt;&lt;/div&gt;
</code></pre></div><p>ä½ å¯ä»¥åœ¨ä¸€ä¸ªç»„ä»¶çš„é€‰é¡¹ä¸­å®šä¹‰æœ¬åœ°çš„è¿‡æ»¤å™¨ï¼š</p> <div class="language- extra-class"><pre class="language-text"><code>filters: {
  capitalize: function (value) {
    if (!value) return ''
    value = value.toString()
    return value.charAt(0).toUpperCase() + value.slice(1)
  }
}

// æˆ–è€…åœ¨åˆ›å»º Vue å®ä¾‹ä¹‹å‰å…¨å±€å®šä¹‰è¿‡æ»¤å™¨ï¼š
Vue.filter('capitalize', function (value) {
  if (!value) return ''
  value = value.toString()
  return value.charAt(0).toUpperCase() + value.slice(1)
})
</code></pre></div><p>è¿‡æ»¤å™¨å¯ä»¥ä¸²è”ï¼š</p> <div class="language- extra-class"><pre class="language-text"><code>{{ message | filterA | filterB }}
</code></pre></div><p>è¿‡æ»¤å™¨æ˜¯ JavaScript å‡½æ•°ï¼Œå› æ­¤å¯ä»¥æ¥æ”¶å‚æ•°ï¼š</p> <div class="language- extra-class"><pre class="language-text"><code>{{ message | filterA('arg1', arg2) }}
</code></pre></div><p>è¿™é‡Œï¼ŒfilterA è¢«å®šä¹‰ä¸ºæ¥æ”¶ä¸‰ä¸ªå‚æ•°çš„è¿‡æ»¤å™¨å‡½æ•°ã€‚å…¶ä¸­<strong>message çš„å€¼</strong>ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œ<strong>æ™®é€šå­—ç¬¦ä¸² 'arg1'</strong> ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ï¼Œ<strong>è¡¨è¾¾å¼ arg2 çš„å€¼</strong>ä½œä¸ºç¬¬ä¸‰ä¸ªå‚æ•°ã€‚</p> <h2 id="_2-è®¡ç®—å±æ€§ä¸å“åº”å¼ä¾èµ–"><a href="#_2-è®¡ç®—å±æ€§ä¸å“åº”å¼ä¾èµ–" aria-hidden="true" class="header-anchor">#</a> 2. è®¡ç®—å±æ€§ä¸å“åº”å¼ä¾èµ–</h2> <blockquote><p>åœ¨ä¸€ä¸ªè®¡ç®—å±æ€§é‡Œå¯ä»¥å®Œæˆå„ç§å¤æ‚çš„é€»è¾‘ï¼ŒåŒ…æ‹¬è¿ç®—ã€å‡½æ•°è°ƒç”¨ç­‰ï¼Œåªè¦æœ€ç»ˆè¿”å› ä¸€ä¸ªç»“æœå°±å¯ä»¥ã€‚è®¡ç®—å±æ€§è¿˜å¯ä»¥ä¾èµ–å¤šä¸ªVueå®ä¾‹çš„æ•°æ®ï¼Œåªè¦å…¶ä¸­ä»»ä¸€æ•°æ®å˜åŒ–ï¼Œè®¡ç®—å±æ€§å°±ä¼šé‡æ–°æ‰§è¡Œï¼Œè§†å›¾ä¹Ÿä¼šæ›´æ–°ã€‚</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>&lt;span&gt;{{fullName}}&lt;/span&gt;
computed: {
    fullName: {
        get: function() {
            return this.firstName + ' ' + this.lastName;
        },
        set: function(newValue) {
            var names= newValue.split (' ') ;
            this.firstName = names[O);
            this.lastName = names[names.length - 1];
        }
    }
}
</code></pre></div><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨è¡¨è¾¾å¼ä¸­è°ƒç”¨æ–¹æ³•æ¥è¾¾åˆ°åŒæ ·çš„æ•ˆæœ:</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;span&gt;{{getName()}}&lt;/span&gt;
methods: {
    getName: function() {
        return this.firstName + ' ' + this.lastName;
    }
}
</code></pre></div><p>æˆ‘ä»¬å¯ä»¥å°†åŒä¸€å‡½æ•°å®šä¹‰ä¸ºä¸€ä¸ªæ–¹æ³•è€Œä¸æ˜¯ä¸€ä¸ªè®¡ç®—å±æ€§ã€‚ä¸¤ç§æ–¹å¼çš„æœ€ç»ˆç»“æœç¡®å®æ˜¯å®Œå…¨ç›¸åŒçš„ã€‚ç„¶è€Œï¼Œä¸åŒçš„æ˜¯<strong>è®¡ç®—å±æ€§</strong>æ˜¯åŸºäºå®ƒä»¬çš„<strong>å“åº”å¼ä¾èµ–è¿›è¡Œç¼“å­˜çš„</strong>ã€‚åªåœ¨ç›¸å…³å“åº”å¼ä¾èµ–å‘ç”Ÿæ”¹å˜æ—¶å®ƒä»¬æ‰ä¼šé‡æ–°æ±‚å€¼ã€‚</p> <p>è™½ç„¶<strong>è®¡ç®—å±æ€§</strong>åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹æ›´åˆé€‚ï¼Œä½†æœ‰æ—¶ä¹Ÿéœ€è¦ä¸€ä¸ªè‡ªå®šä¹‰çš„<strong>ä¾¦å¬å™¨</strong>ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ Vue é€šè¿‡ <strong>watch</strong>é€‰é¡¹æä¾›äº†ä¸€ä¸ªæ›´é€šç”¨çš„æ–¹æ³•ï¼Œæ¥å“åº”æ•°æ®çš„å˜åŒ–ã€‚å½“éœ€è¦åœ¨æ•°æ®å˜åŒ–æ—¶æ‰§è¡Œå¼‚æ­¥æˆ–å¼€é”€è¾ƒå¤§çš„æ“ä½œæ—¶ï¼Œè¿™ä¸ªæ–¹å¼æ˜¯æœ€æœ‰ç”¨çš„ã€‚</p> <div class="language- extra-class"><pre class="language-text"><code>watch: {
    message(newvalue, oldValue) {
        newvalue &amp;&amp; this.getNewMessage();
    }
}
</code></pre></div><h2 id="_3-ç»„ä»¶"><a href="#_3-ç»„ä»¶" aria-hidden="true" class="header-anchor">#</a> 3. ç»„ä»¶</h2> <p>ç»„ä»¶æ˜¯å¯å¤ç”¨çš„ Vue å®ä¾‹ï¼Œé€šå¸¸ä¸€ä¸ªåº”ç”¨ä¼šä»¥ä¸€æ£µåµŒå¥—çš„ç»„ä»¶æ ‘çš„å½¢å¼æ¥ç»„ç»‡ï¼š</p> <p><img src="https://user-gold-cdn.xitu.io/2019/7/7/16bcc204e4428c24?w=1406&amp;h=544&amp;f=png&amp;s=6202" alt=""></p> <p><a href="https://cn.vuejs.org/v2/guide/components.html" target="_blank" rel="noopener noreferrer">ç»„ä»¶<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> ( Component)æ˜¯ Vue æœ€æ ¸å¿ƒçš„åŠŸèƒ½ï¼Œä¹Ÿæ˜¯æ•´ä¸ªæ¡†æ¶è®¾è®¡æœ€ç²¾å½©çš„åœ°æ–¹ï¼Œå½“ç„¶ä¹Ÿæ˜¯æœ€éš¾ æŒæ¡çš„ã€‚ç»„ä»¶éœ€è¦æ³¨å†Œåæ‰å¯ä»¥ä½¿ç”¨ï¼Œæ³¨å†Œæœ‰å…¨å±€æ³¨å†Œå’Œå±€éƒ¨æ³¨å†Œä¸¤ç§æ–¹å¼ã€‚å…¨å±€æ³¨å†Œåï¼Œ ä»»ä½• Vue å®ä¾‹éƒ½å¯ä»¥ä½¿ç”¨ã€‚</p> <p>å…¨å±€æ³¨å†Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ :</p> <div class="language- extra-class"><pre class="language-text"><code>Vue.component(â€™my-componentâ€™, {
    //é€‰é¡¹
})
</code></pre></div><p>åœ¨ Vue å®ä¾‹ä¸­ï¼Œä½¿ç”¨ componentsé€‰é¡¹å¯ä»¥å±€éƒ¨æ³¨å†Œç»„ä»¶ï¼Œæ³¨å†Œåçš„ç»„ä»¶åªæœ‰åœ¨è¯¥å®ä¾‹ä½œç”¨åŸŸä¸‹æœ‰æ•ˆã€‚ç»„ä»¶ä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨componentsé€‰é¡¹æ¥æ³¨å†Œç»„ä»¶ï¼Œä½¿ç»„ä»¶å¯ä»¥åµŒå¥—ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹:</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;div id=â€appâ€&gt;
    &lt;my-component&gt;&lt;/my-component&gt;
&lt;/div&gt;
&lt;script&gt;
var Child = {
    template: '&lt;div&gt;å±€éƒ¨æ³¨å†Œç»„ä»¶çš„å†…å®¹&lt;/div&gt;'
};
components: {
    â€™my-componentâ€™: Child
}
&lt;/script&gt;
</code></pre></div><p>Vue ç»„ä»¶çš„æ¨¡æ¿åœ¨æŸäº›æƒ…å†µä¸‹ä¼šå—åˆ°HTMLçš„é™åˆ¶ï¼Œæ¯”å¦‚<code>&lt;table&gt;</code>å†…è§„å®šåªå…è®¸æ˜¯<code>&lt;tr&gt;</code>ã€<code>&lt;td&gt;</code>ã€<code>&lt;th&gt;</code>ç­‰è¿™äº›è¡¨æ ¼å…ƒç´ ï¼Œæ‰€ä»¥åœ¨<code>&lt;table&gt;</code>å†…ç›´æ¥ä½¿ç”¨ç»„ä»¶æ˜¯æ— æ•ˆçš„ã€‚è¿™ç§æƒ…å†µä¸‹å¯ä»¥ä½¿ç”¨ç‰¹æ®Šçš„iså±æ€§æ¥æŒ‚è½½ç»„ä»¶ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ :</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;div id=â€appâ€&gt;
    &lt;table&gt;
        &lt;tbody is=â€my-componentâ€&gt;&lt;/tbody&gt;
    &lt;/table&gt;
&lt;/div&gt;
&lt;script&gt;
var Child = {
    template: '&lt;div&gt;å±€éƒ¨æ³¨å†Œç»„ä»¶çš„å†…å®¹&lt;/div&gt;'
};
components: {
    â€™my-componentâ€™: Child
}
&lt;/script&gt;
</code></pre></div><div class="language-! extra-class"><pre class="language-text"><code>å¸¸è§çš„é™åˆ¶å…ƒç´ è¿˜æœ‰&lt;ul&gt;ã€&lt;ol&gt;ã€&lt;select&gt;ï¼›å¦‚æœä½¿ç”¨å­—ç¬¦ä¸²æ¨¡æ¿æ˜¯ä¸å—é™åˆ¶çš„ï¼›
</code></pre></div><p>é™¤äº† templateé€‰é¡¹å¤–ï¼Œç»„ä»¶ä¸­è¿˜å¯ä»¥åƒ Vueå®ä¾‹é‚£æ ·ä½¿ç”¨å…¶ä»–çš„é€‰é¡¹ï¼Œæ¯”å¦‚ <strong>data</strong>ã€ <strong>computed</strong>ã€ <strong>methods</strong> ç­‰ã€‚ä½†æ˜¯åœ¨ä½¿ç”¨ <strong>data</strong> æ—¶å’Œå®ä¾‹ç¨æœ‰åŒºåˆ«ï¼Œ <strong>data</strong> å¿…é¡»æ˜¯å‡½æ•°ï¼Œç„¶åå°†æ•°æ® return å‡ºå»ï¼Œ ä¾‹å¦‚:</p> <div class="language- extra-class"><pre class="language-text"><code>Vue.component('my-component', {
    template: '&lt;div&gt;{{ message }}&lt;/div&gt;',
    data: function() {
        return {
            message: 'aaa'
        }
    }
});
</code></pre></div><p><strong>propsä¼ é€’æ•°æ®ã€ eventsè§¦å‘äº‹ä»¶å’Œslotå†…å®¹åˆ†å‘å°±æ„æˆäº†Vueç»„ä»¶çš„3ä¸ªAPIæ¥æºï¼Œå†å¤ æ‚çš„ç»„ä»¶ä¹Ÿæ˜¯ç”±è¿™ 3 éƒ¨åˆ†æ„æˆçš„ã€‚</strong></p> <ul><li><p>props</p> <blockquote><p>ç»„ä»¶ä¸ä»…ä»…æ˜¯è¦æŠŠæ¨¡æ¿çš„å†…å®¹è¿›è¡Œå¤ç”¨ï¼Œæ›´é‡è¦çš„æ˜¯ç»„ä»¶é—´è¦è¿›è¡Œé€šä¿¡ã€‚é€šå¸¸çˆ¶ç»„ä»¶çš„æ¨¡æ¿ ä¸­åŒ…å«å­ç»„ä»¶ï¼Œçˆ¶ç»„ä»¶è¦æ­£å‘åœ°å‘å­ç»„ä»¶ä¼ é€’æ•°æ®æˆ–å‚æ•°ï¼Œå­ç»„ä»¶æ¥æ”¶åˆ°åæ ¹æ®å‚æ•°çš„ä¸åŒæ¥æ¸²æŸ“ä¸åŒçš„å†…å®¹æˆ–æ‰§è¡Œæ“ä½œã€‚è¿™ä¸ªæ­£å‘ä¼ é€’æ•°æ®çš„è¿‡ç¨‹å°±æ˜¯é€šè¿‡ <strong>props</strong> æ¥å®ç°çš„ã€‚</p></blockquote></li></ul> <p>åœ¨ç»„ä»¶ä¸­ï¼Œä½¿ç”¨é€‰é¡¹ props æ¥å£°æ˜éœ€è¦ä»çˆ¶çº§æ¥æ”¶çš„æ•°æ®ï¼Œ props çš„å€¼å¯ä»¥æ˜¯ä¸¤ç§ï¼Œ ä¸€ç§æ˜¯å­—ç¬¦ä¸²æ•°ç»„ï¼Œä¸€ç§æ˜¯å¯¹è±¡:</p> <div class="language- extra-class"><pre class="language-text"><code>// å­—ç¬¦ä¸²æ•°ç»„
Vue.component ('my-component', {
    props: [ â€™ message â€™ ] ,
    template: â€™&lt;div&gt;{{ message }}&lt;/div&gt;â€™
});
// å¯¹è±¡å½¢å¼
Vue.component ('my-component', {
    props: {
        //å¿…é¡»æ˜¯æ•°å­—ç±»å‹
        propA : Number,
        //å¿…é¡»æ˜¯å­—ç¬¦ä¸²æˆ–æ•°å­—ç±»å‹
        propB : [String , Number],
        //å¸ƒå°”å€¼ï¼Œå¦‚æœæ²¡æœ‰å®šä¹‰ï¼Œé»˜è®¤å€¼å°±æ˜¯ true
        propC: {
            type: Boolean,
            default: true
        },
        //æ•°å­—ï¼Œè€Œä¸”æ˜¯å¿…ä¼ 
        propD: {
            type: Number,
            required: true
        },
        //å¦‚æœæ˜¯æ•°ç»„æˆ–å¯¹è±¡ï¼Œé»˜è®¤å€¼å¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°æ¥è¿”å›
        propE: {
            type: Array,
            default: function() {
                return [];
            }
        }
    } ,
    template: â€™&lt;div&gt;{{ message }}&lt;/div&gt;â€™
});
</code></pre></div><ul><li>events</li></ul> <p>ç”¨é›†ä¸­å¼çš„äº‹ä»¶ä¸­é—´ä»¶å¯ä»¥åšåˆ°ç®€å•çš„æ•°æ®ä¼ é€’ï¼Œè¿™ä¼šè®©ç»„ä»¶ä¹‹é—´çš„é€šä¿¡éå¸¸é¡ºåˆ©ï¼Œå³ä½¿æ˜¯å…„å¼Ÿç»„ä»¶ã€‚å› ä¸º Vue é€šè¿‡äº‹ä»¶å‘å°„å™¨æ¥å£æ‰§è¡Œå®ä¾‹ï¼Œå®é™…ä¸Šä½ å¯ä»¥ä½¿ç”¨ä¸€ä¸ªç©ºçš„ Vue å®ä¾‹ï¼Œé€šè¿‡å•ç‹¬çš„äº‹ä»¶ä¸­å¿ƒç®¡ç†ç»„ä»¶é—´çš„é€šä¿¡ï¼š</p> <div class="language- extra-class"><pre class="language-text"><code>var eventHub = new Vue();
</code></pre></div><p>ç„¶ååœ¨ç»„ä»¶ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ <code>$emit</code>, <code>$on</code>, <code>$off</code> åˆ†åˆ«æ¥åˆ†å‘ã€ç›‘å¬ã€å–æ¶ˆç›‘å¬äº‹ä»¶ï¼š</p> <div class="language- extra-class"><pre class="language-text"><code>eventHub.$emit('delete', id);
eventHub.$on('delete', this.delete);
eventHub.$off('delete', this.delete)
</code></pre></div><ul><li>slot</li></ul> <p>Vue å®ç°äº†ä¸€å¥—å†…å®¹åˆ†å‘çš„ APIï¼Œè¿™å¥— API çš„è®¾è®¡çµæ„Ÿæºè‡ª Web Components è§„èŒƒè‰æ¡ˆï¼Œå°† <code>&lt;slot&gt;</code> å…ƒç´ ä½œä¸ºæ‰¿è½½åˆ†å‘å†…å®¹çš„å‡ºå£ã€‚</p> <p>-<strong>æ™®é€šæ’æ§½</strong>ï¼š</p> <div class="language- extra-class"><pre class="language-text"><code>// çˆ¶ç»„ä»¶
&lt;submit-button&gt;save&lt;/submit-button&gt;
// å­ç»„ä»¶
&lt;button type=&quot;submit&quot;&gt;
  &lt;slot&gt;Submit&lt;/slot&gt;
&lt;/button&gt;

// æœ€ç»ˆæ¸²æŸ“
&lt;button type=&quot;submit&quot;&gt;
  Save
&lt;/button&gt;
</code></pre></div><p>-<strong>å…·åæ’æ§½</strong>ï¼š</p> <div class="language- extra-class"><pre class="language-text"><code>// çˆ¶ç»„ä»¶
&lt;base-layout&gt;
 &lt;template v-slot:header&gt;
   &lt;h1&gt;Here might be a page title&lt;/h1&gt;
 &lt;/template&gt;

 &lt;template v-slot:default&gt;
   &lt;p&gt;A paragraph for the main content.&lt;/p&gt;
   &lt;p&gt;And another one.&lt;/p&gt;
 &lt;/template&gt;

 &lt;template v-slot:footer&gt;
   &lt;p&gt;Heres some contact info&lt;/p&gt;
 &lt;/template&gt;
&lt;/base-layout&gt;
// å­ç»„ä»¶
&lt;div class=&quot;container&quot;&gt;
 &lt;header&gt;
   &lt;slot name=&quot;header&quot;&gt;&lt;/slot&gt;
 &lt;/header&gt;
 &lt;main&gt;
   &lt;slot&gt;&lt;/slot&gt;
 &lt;/main&gt;
 &lt;footer&gt;
   &lt;slot name=&quot;footer&quot;&gt;&lt;/slot&gt;
 &lt;/footer&gt;
&lt;/div&gt;

// æœ€ç»ˆæ¸²æŸ“
&lt;div class=&quot;container&quot;&gt;
 &lt;header&gt;
   &lt;h1&gt;Here might be a page title&lt;/h1&gt;
 &lt;/header&gt;
 &lt;main&gt;
   &lt;p&gt;A paragraph for the main content.&lt;/p&gt;
   &lt;p&gt;And another one.&lt;/p&gt;
 &lt;/main&gt;
 &lt;footer&gt;
   &lt;p&gt;Heres some contact info&lt;/p&gt;
 &lt;/footer&gt;
&lt;/div&gt;
</code></pre></div><p>-<strong>ä½œç”¨åŸŸæ’æ§½</strong>ï¼š</p> <div class="language- extra-class"><pre class="language-text"><code>// çˆ¶ç»„ä»¶
&lt;current-user&gt;
  &lt;template v-slot:default=&quot;slotProps&quot;&gt;
    {{ slotProps.user.firstName }}
  &lt;/template&gt;
&lt;/current-user&gt;

// å­ç»„ä»¶
&lt;span&gt;
  &lt;slot v-bind:user=&quot;user&quot;&gt;
    {{ user.lastName }}
  &lt;/slot&gt;
&lt;/span&gt;
</code></pre></div><p>æ’æ§½å¯¹äºç»„ä»¶æ„ä¹‰éå‡¡ï¼Œå¯ä»¥è‡ªå®šä¹‰æ‹“å±•å®ç°å¾ˆå¤šå¤æ‚çš„ä¸šåŠ¡åœºæ™¯ï¼Œä¸”ä½è€¦åˆï¼›</p> <ul><li><p>é€šä¿¡æ–¹å¼</p> <p>-<strong>props/$emit</strong></p></li></ul> <p>çˆ¶å­ç»„ä»¶è¿›è¡Œé€šä¿¡æœ€å¸¸ç”¨è¿™ç§æ–¹å¼ï¼š</p> <div class="language- extra-class"><pre class="language-text"><code>// çˆ¶ç»„ä»¶
&lt;template&gt;
    &lt;child :updateTitle='updateTitle'&gt;&lt;/child&gt;
&lt;/template&gt;
&lt;script&gt;
export {
    data: {
        return {
            title: 'æˆ‘æ˜¯çˆ¶ç»„ä»¶'
        }
    },
    methods: {
        updateTitle(value) {
            this.title = value;
        }
    }
}
&lt;/script&gt;
// å­ç»„ä»¶
&lt;template&gt;
  &lt;header&gt;
    &lt;h1 @click=&quot;changeTitle&quot;&gt;{{title}}&lt;/h1&gt;
  &lt;/header&gt;
&lt;/template&gt;
&lt;script&gt;
export {
    props: {
        title: {
            type: String,
            default: 'æˆ‘æ˜¯çˆ¶ç»„ä»¶'
        }
    }ï¼Œ
    methods: {
        changeTitle() {
            this.$emit('updateTitle', 'æˆ‘æ˜¯å­ç»„ä»¶');
        }
    }
}
&lt;/script&gt;
</code></pre></div><p>-<strong>eventBus</strong></p> <p>çˆ¶å­ã€å…„å¼Ÿç»„ä»¶ä¹‹é—´éƒ½å¯ä»¥ä½¿ç”¨è¿™ç§æ–¹å¼ï¼š</p> <div class="language- extra-class"><pre class="language-text"><code>var Event=new Vue();
Event.$emit(äº‹ä»¶å,æ•°æ®);
Event.$on(äº‹ä»¶å,data =&gt; {});
</code></pre></div><p><code>$emit</code>è´Ÿè´£åˆ†å‘äº‹ä»¶ï¼Œ$onè´Ÿè´£ç›‘å¬äº†è‡ªå®šä¹‰äº‹ä»¶ï¼Œå› ä¸ºæœ‰æ—¶ä¸ç¡®å®šä½•æ—¶ä¼šè§¦å‘äº‹ä»¶ï¼Œä¸€èˆ¬ä¼šåœ¨ mounted æˆ– created é’©å­ä¸­æ¥ç›‘å¬ã€‚</p> <p>-<strong>vuex</strong></p> <p>Vuex å®ç°äº†ä¸€ä¸ªå•å‘æ•°æ®æµï¼Œåœ¨å…¨å±€æ‹¥æœ‰ä¸€ä¸ª State å­˜æ”¾æ•°æ®ï¼Œå½“ç»„ä»¶è¦æ›´æ”¹ State ä¸­çš„æ•°æ®æ—¶ï¼Œå¿…é¡»é€šè¿‡ Mutation è¿›è¡Œï¼ŒMutation åŒæ—¶æä¾›äº†è®¢é˜…è€…æ¨¡å¼ä¾›å¤–éƒ¨æ’ä»¶è°ƒç”¨è·å– State æ•°æ®çš„æ›´æ–°ã€‚è€Œå½“æ‰€æœ‰å¼‚æ­¥æ“ä½œ(å¸¸è§äºè°ƒç”¨åç«¯æ¥å£å¼‚æ­¥è·å–æ›´æ–°æ•°æ®)æˆ–æ‰¹é‡çš„åŒæ­¥æ“ä½œéœ€è¦èµ° Actionï¼Œä½† Action ä¹Ÿæ˜¯æ— æ³•ç›´æ¥ä¿®æ”¹ State çš„ï¼Œè¿˜æ˜¯éœ€è¦é€šè¿‡ Mutation æ¥ä¿®æ”¹ State çš„æ•°æ®ã€‚æœ€åï¼Œæ ¹æ® State çš„å˜åŒ–ï¼Œæ¸²æŸ“åˆ°è§†å›¾ä¸Šã€‚</p> <p>ä¸€èˆ¬ç”¨äºæ¯”è¾ƒå¤æ‚çš„å¤§ä¸­å‹åº”ç”¨ï¼Œä¸€ä¸ªåº”ç”¨åªæœ‰ä¸€ä¸ªstoreï¼Œé€šè¿‡æ’ä»¶çš„æœºåˆ¶æ³¨å…¥åº”ç”¨æœ¬èº«ï¼Œä¸‹é¢çš„å…¨éƒ¨ç»„ä»¶éƒ½å¯ä»¥è®¿é—®åˆ°storeä¸­çš„æ•°æ®ï¼Œä¾¿äºæ•°æ®çš„ç®¡ç†å’Œè¿½è¸ªå˜åŒ–ï¼›</p> <p>-<strong><code>$attrs</code>/$listeners</strong></p> <p><code>$attrs</code>åŒ…å«äº†çˆ¶ä½œç”¨åŸŸä¸­ä¸è¢« prop æ‰€è¯†åˆ« (ä¸”è·å–) çš„ç‰¹æ€§ç»‘å®š (class å’Œ style é™¤å¤–)ã€‚å½“ä¸€ä¸ªç»„ä»¶æ²¡æœ‰å£°æ˜ä»»ä½• prop æ—¶ï¼Œè¿™é‡Œä¼šåŒ…å«æ‰€æœ‰çˆ¶ä½œç”¨åŸŸçš„ç»‘å®š (class å’Œ style é™¤å¤–)ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡ v-bind=&quot;$attrs&quot; ä¼ å…¥å†…éƒ¨ç»„ä»¶ã€‚é€šå¸¸é…åˆ interitAttrs é€‰é¡¹ä¸€èµ·ä½¿ç”¨ã€‚</p> <p><code>$listeners</code>åŒ…å«äº†çˆ¶ä½œç”¨åŸŸä¸­çš„ (ä¸å« .native ä¿®é¥°å™¨çš„) v-on äº‹ä»¶ç›‘å¬å™¨ã€‚å®ƒå¯ä»¥é€šè¿‡ v-on=&quot;$listeners&quot; ä¼ å…¥å†…éƒ¨ç»„ä»¶ã€‚</p> <div class="language- extra-class"><pre class="language-text"><code>// çˆ¶ç»„ä»¶
&lt;template&gt;
    &lt;child :foo=&quot;foo&quot; :boo=&quot;boo&quot;  title=&quot;å¤©é“é…¬å‹¤Lewis&quot;&gt;&lt;/child&gt;
&lt;/template&gt;
// å­ç»„ä»¶
&lt;template&gt;
    &lt;p&gt;boo: {{ boo }}&lt;/p&gt;
    &lt;p&gt;child: {{ $attrs }}&lt;/p&gt;
&lt;/template&gt;
</code></pre></div><div class="language-! extra-class"><pre class="language-text"><code>Vue2.4 æä¾›äº†$attrs,$listenersæ¥ä¼ é€’æ•°æ®ä¸äº‹ä»¶ï¼Œè·¨çº§ç»„ä»¶ä¹‹é—´çš„é€šè®¯å˜å¾—æ›´ç®€å•ã€‚
ç®€å•æ¥è¯´ï¼š$attrsä¸$listeners æ˜¯ä¸¤ä¸ªå¯¹è±¡ï¼Œ$attrs é‡Œå­˜æ”¾çš„æ˜¯çˆ¶ç»„ä»¶ä¸­ç»‘å®šçš„é Props å±æ€§ï¼Œ$listenersé‡Œå­˜æ”¾çš„æ˜¯çˆ¶ç»„ä»¶ä¸­ç»‘å®šçš„éåŸç”Ÿäº‹ä»¶ã€‚
</code></pre></div><p>-<strong>provide/inject</strong></p> <p>Vue2.2.0 æ–°å¢ API,è¿™å¯¹é€‰é¡¹éœ€è¦ä¸€èµ·ä½¿ç”¨ï¼Œä»¥å…è®¸ä¸€ä¸ªç¥–å…ˆç»„ä»¶å‘å…¶æ‰€æœ‰å­å­™åä»£æ³¨å…¥ä¸€ä¸ªä¾èµ–ï¼Œä¸è®ºç»„ä»¶å±‚æ¬¡æœ‰å¤šæ·±ï¼Œåœ¨ä¸Šä¸‹æ¸¸å…³ç³»æˆç«‹çš„æ—¶é—´é‡Œå§‹ç»ˆç”Ÿæ•ˆã€‚ä¸€è¨€è€Œè”½ä¹‹ï¼š<strong>ç¥–å…ˆç»„ä»¶ä¸­é€šè¿‡ provider æ¥æä¾›å˜é‡ï¼Œç„¶ååœ¨å­å­™ç»„ä»¶ä¸­é€šè¿‡ injectæ¥æ³¨å…¥å˜é‡</strong>ã€‚</p> <p><strong>provide / inject</strong> API ä¸»è¦è§£å†³äº†è·¨çº§ç»„ä»¶é—´çš„é€šä¿¡é—®é¢˜ï¼Œä¸è¿‡å®ƒçš„ä½¿ç”¨åœºæ™¯ï¼Œä¸»è¦æ˜¯å­ç»„ä»¶è·å–ä¸Šçº§ç»„ä»¶çš„çŠ¶æ€ï¼Œè·¨çº§ç»„ä»¶é—´å»ºç«‹äº†ä¸€ç§ä¸»åŠ¨æä¾›ä¸ä¾èµ–æ³¨å…¥çš„å…³ç³»ã€‚</p> <div class="language- extra-class"><pre class="language-text"><code>// çˆ¶ç»„ä»¶
export default {
  provide: {
    name: 'å¤©é“é…¬å‹¤Lewis'
  }
}
// å­ç»„ä»¶
export default {
  inject: ['name'],
  mounted () {
    console.log(this.name);  // å¤©é“é…¬å‹¤Lewis
  }
}
</code></pre></div><div class="language-! extra-class"><pre class="language-text"><code>provide å’Œ inject ç»‘å®šå¹¶ä¸æ˜¯å¯å“åº”çš„,è¿™æ˜¯åˆ»æ„ä¸ºä¹‹çš„ã€‚ç„¶è€Œï¼Œå¦‚æœä½ ä¼ å…¥äº†ä¸€ä¸ªå¯ç›‘å¬çš„å¯¹è±¡ï¼Œé‚£ä¹ˆå…¶å¯¹è±¡çš„å±æ€§è¿˜æ˜¯å¯å“åº”çš„ã€‚
</code></pre></div><h2 id="_4-äº‹ä»¶æœºåˆ¶"><a href="#_4-äº‹ä»¶æœºåˆ¶" aria-hidden="true" class="header-anchor">#</a> 4. äº‹ä»¶æœºåˆ¶</h2> <p>Vueå®šä¹‰äº†å››ç§æ·»åŠ äº‹ä»¶ç›‘å¬çš„æ–¹æ³•ï¼š</p> <p><img src="https://user-gold-cdn.xitu.io/2019/7/7/16bcc7db75abb919?w=675&amp;h=348&amp;f=png&amp;s=17087" alt=""></p> <ul><li>$on</li></ul> <div class="language- extra-class"><pre class="language-text"><code>Vue.prototype.$on = function (event, fn) {
    var this$1 = this;
    var vm = this;
    //å¦‚æœä¼ å‚eventæ˜¯æ•°ç»„ï¼Œé€’å½’è°ƒç”¨$on
    if (Array.isArray(event)) {
      for (var i = 0, l = event.length; i &lt; l; i++) {
        this$1.$on(event[i], fn);
      }
    } else {
      (vm._events[event] || (vm._events[event] = [])).push(fn);
      // è¿™é‡Œåœ¨æ³¨å†Œäº‹ä»¶çš„æ—¶å€™æ ‡è®°boolå€¼ä¹Ÿå°±æ˜¯ä¸ªæ ‡å¿—ä½æ¥è¡¨æ˜å­˜åœ¨é’©å­ï¼Œè€Œä¸éœ€è¦é€šè¿‡å“ˆå¸Œè¡¨çš„æ–¹æ³•æ¥æŸ¥æ‰¾æ˜¯å¦æœ‰é’©å­ï¼Œè¿™æ ·åšå¯ä»¥å‡å°‘ä¸å¿…è¦çš„å¼€é”€ï¼Œä¼˜åŒ–æ€§èƒ½ã€‚
      if (hookRE.test(event)) {
        vm._hasHookEvent = true;
      }
    }
    return vm
};
</code></pre></div><ul><li>$once</li></ul> <div class="language- extra-class"><pre class="language-text"><code>Vue.prototype.$once = function (event, fn) {
    var vm = this;
    function on () {
      //åœ¨ç¬¬ä¸€æ¬¡æ‰§è¡Œçš„æ—¶å€™å°†è¯¥äº‹ä»¶é”€æ¯
      vm.$off(event, on);
      //æ‰§è¡Œæ³¨å†Œçš„æ–¹æ³•
      fn.apply(vm, arguments);
    }
    on.fn = fn;
    vm.$on(event, on);
    return vm
};
</code></pre></div><ul><li>$emit</li></ul> <div class="language- extra-class"><pre class="language-text"><code>  Vue.prototype.$emit = function (event) {
    var vm = this;
    {
      var lowerCaseEvent = event.toLowerCase();
      if (lowerCaseEvent !== event &amp;&amp; vm._events[lowerCaseEvent]) {
        tip(
          &quot;Event \&quot;&quot; + lowerCaseEvent + &quot;\&quot; is emitted in component &quot; +
          (formatComponentName(vm)) + &quot; but the handler is registered for \&quot;&quot; + event + &quot;\&quot;. &quot; +
          &quot;Note that HTML attributes are case-insensitive and you cannot use &quot; +
          &quot;v-on to listen to camelCase events when using in-DOM templates. &quot; +
          &quot;You should probably use \&quot;&quot; + (hyphenate(event)) + &quot;\&quot; instead of \&quot;&quot; + event + &quot;\&quot;.&quot;
        );
      }
    }
    var cbs = vm._events[event];
    if (cbs) {
      //å°†ç±»æ•°ç»„çš„å¯¹è±¡è½¬æ¢æˆæ•°ç»„
      cbs = cbs.length &gt; 1 ? toArray(cbs) : cbs;
      var args = toArray(arguments, 1);
      for (var i = 0, l = cbs.length; i &lt; l; i++) {
        try {
          //è§¦å‘å½“å‰å®ä¾‹ä¸Šçš„äº‹ä»¶ï¼Œé™„åŠ å‚æ•°éƒ½ä¼šä¼ ç»™ç›‘å¬å™¨å›è°ƒã€‚
          cbs[i].apply(vm, args);
        } catch (e) {
          handleError(e, vm, (&quot;event handler for \&quot;&quot; + event + &quot;\&quot;&quot;));
        }
      }
    }
    return vm
};
</code></pre></div><ul><li>$off</li></ul> <div class="language- extra-class"><pre class="language-text"><code>  Vue.prototype.$off = function (event, fn) {
    var this$1 = this;
    var vm = this;
    // å¦‚æœæ²¡æœ‰å‚æ•°ï¼Œå…³é—­å…¨éƒ¨äº‹ä»¶ç›‘å¬å™¨
    if (!arguments.length) {
      vm._events = Object.create(null);
      return vm
    }
    // å…³é—­æ•°ç»„ä¸­çš„äº‹ä»¶ç›‘å¬å™¨
    if (Array.isArray(event)) {
      for (var i = 0, l = event.length; i &lt; l; i++) {
        this$1.$off(event[i], fn);
      }
      return vm
    }
    // å…·ä½“çš„æŸä¸ªäº‹ä»¶
    var cbs = vm._events[event];
    if (!cbs) {
      return vm
    }
    //  fnå›è°ƒå‡½æ•°ä¸å­˜åœ¨ï¼Œå°†äº‹ä»¶ç›‘å¬å™¨å˜ä¸ºnullï¼Œè¿”å›vm
    if (!fn) {
      vm._events[event] = null;
      return vm
    }
    // å›è°ƒå‡½æ•°å­˜åœ¨
    if (fn) {
      // specific handler
      var cb;
      var i$1 = cbs.length;
      while (i$1--) {
        cb = cbs[i$1];
        if (cb === fn || cb.fn === fn) {
          // ç§»é™¤ fn è¿™ä¸ªäº‹ä»¶ç›‘å¬å™¨
          cbs.splice(i$1, 1);
          break
        }
      }
    }
    return vm
};
</code></pre></div><ul><li>äº‹ä»¶ä¿®é¥°ç¬¦</li></ul> <div class="language- extra-class"><pre class="language-text"><code>&lt;!-- é˜»æ­¢å•å‡»äº‹ä»¶ç»§ç»­ä¼ æ’­ --&gt;
&lt;a v-on:click.stop=&quot;doThis&quot;&gt;&lt;/a&gt;

&lt;!-- æäº¤äº‹ä»¶ä¸å†é‡è½½é¡µé¢ --&gt;
&lt;form v-on:submit.prevent=&quot;onSubmit&quot;&gt;&lt;/form&gt;

&lt;!-- ä¿®é¥°ç¬¦å¯ä»¥ä¸²è” --&gt;
&lt;a v-on:click.stop.prevent=&quot;doThat&quot;&gt;&lt;/a&gt;

&lt;!-- åªæœ‰ä¿®é¥°ç¬¦ --&gt;
&lt;form v-on:submit.prevent&gt;&lt;/form&gt;

&lt;!-- æ·»åŠ äº‹ä»¶ç›‘å¬å™¨æ—¶ä½¿ç”¨äº‹ä»¶æ•è·æ¨¡å¼ --&gt;
&lt;!-- å³å…ƒç´ è‡ªèº«è§¦å‘çš„äº‹ä»¶å…ˆåœ¨æ­¤å¤„å¤„ç†ï¼Œç„¶åæ‰äº¤ç”±å†…éƒ¨å…ƒç´ è¿›è¡Œå¤„ç† --&gt;
&lt;div v-on:click.capture=&quot;doThis&quot;&gt;...&lt;/div&gt;

&lt;!-- åªå½“åœ¨ event.target æ˜¯å½“å‰å…ƒç´ è‡ªèº«æ—¶è§¦å‘å¤„ç†å‡½æ•° --&gt;
&lt;!-- å³äº‹ä»¶ä¸æ˜¯ä»å†…éƒ¨å…ƒç´ è§¦å‘çš„ --&gt;
&lt;div v-on:click.self=&quot;doThat&quot;&gt;...&lt;/div&gt;
</code></pre></div><h2 id="_5-æ’ä»¶æœºåˆ¶"><a href="#_5-æ’ä»¶æœºåˆ¶" aria-hidden="true" class="header-anchor">#</a> 5. æ’ä»¶æœºåˆ¶</h2> <p>Vueæä¾›äº†æ’ä»¶æœºåˆ¶ï¼Œå¯ä»¥åœ¨å…¨å±€æ·»åŠ ä¸€äº›åŠŸèƒ½ã€‚å®ƒä»¬å¯ä»¥ç®€å•åˆ°å‡ ä¸ªæ–¹æ³•ã€å±æ€§ï¼Œä¹Ÿå¯ä»¥ å¾ˆå¤æ‚ï¼Œæ¯”å¦‚ä¸€æ•´å¥—ç»„ä»¶åº“ã€‚
æ³¨å†Œæ’ä»¶éœ€è¦ä¸€ä¸ªå…¬å¼€çš„æ–¹æ³• installï¼Œå®ƒçš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ Vue æ„é€ å™¨ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå¯é€‰çš„é€‰é¡¹å¯¹è±¡,ç¤ºä¾‹ä»£ç å¦‚ä¸‹:</p> <div class="language- extra-class"><pre class="language-text"><code>MyPlugin.install = function (Vue, options) {
    //å…¨å±€æ³¨å†Œç»„ä»¶(æŒ‡ä»¤ç­‰åŠŸèƒ½èµ„æºç±»ä¼¼ã€‰
    Vue.component ('component-name'ï¼Œ{
        //ç»„ä»¶å†…å®¹
    }),
    //æ·»åŠ å®ä¾‹æ–¹æ³•
    Vue.prototype.$Notice = function() {
        //é€»è¾‘ ...
    },
    //æ·»åŠ å…¨å±€æ–¹æ³•æˆ–å±æ€§
    Vue.globalMethod = function() {
        //é€»è¾‘ ...
    },
    //æ·»åŠ å…¨å±€æ··åˆ
    Vue.mixin ({
        mounted: function() {
            //é€»è¾‘ ...
        }
    })ï¼Œ
    //æ·»åŠ å…¨å±€è¿‡æ»¤å™¨
    Vue.directive('my-directive', {
        bind (el, binding, vnode, oldVnode) {
            // é€»è¾‘...
        }
    }
  })
};
// é€šè¿‡ Vue.use()æ¥ä½¿ç”¨æ’ä»¶:
Vue.use(MyPlugin);
// æˆ– 
Vue.use(MyPlugin, {
    // å‚æ•°é€‰é¡¹
});
</code></pre></div><p>ç»å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå¼€å‘æ’ä»¶ä¸»è¦æ˜¯é€šè¿‡NPMå‘å¸ƒåç»™åˆ«äººä½¿ç”¨çš„ï¼Œåœ¨è‡ªå·±çš„é¡¹ç›®ä¸­å¯ä»¥ç›´æ¥åœ¨å…¥å£è°ƒç”¨ä»¥ä¸Šæ–¹æ³• ï¼Œæ— é¡»å¤šä¸€æ­¥æ³¨å†Œå’Œä½¿ç”¨çš„æ­¥éª¤ ã€‚</p> <h2 id="_6-å‰ç«¯è·¯ç”±vue-router"><a href="#_6-å‰ç«¯è·¯ç”±vue-router" aria-hidden="true" class="header-anchor">#</a> 6. å‰ç«¯è·¯ç”±Vue-router</h2> <blockquote><p><strong>Vue Router</strong> æ˜¯ Vue.js å®˜æ–¹çš„è·¯ç”±ç®¡ç†å™¨ã€‚å®ƒå’Œ Vue.js çš„æ ¸å¿ƒæ·±åº¦é›†æˆï¼Œè®©æ„å»ºå•é¡µé¢åº”ç”¨å˜å¾—æ˜“å¦‚åæŒã€‚</p></blockquote> <p>åŒ…å«çš„åŠŸèƒ½æœ‰ï¼š</p> <ul><li>åµŒå¥—çš„è·¯ç”±/è§†å›¾è¡¨</li> <li>æ¨¡å—åŒ–çš„ã€åŸºäºç»„ä»¶çš„è·¯ç”±é…ç½®</li> <li>è·¯ç”±å‚æ•°ã€æŸ¥è¯¢ã€é€šé…ç¬¦</li> <li>åŸºäº Vue.js è¿‡æ¸¡ç³»ç»Ÿçš„è§†å›¾è¿‡æ¸¡æ•ˆæœ</li> <li>ç»†ç²’åº¦çš„å¯¼èˆªæ§åˆ¶</li> <li>å¸¦æœ‰è‡ªåŠ¨æ¿€æ´»çš„ CSS class çš„é“¾æ¥</li> <li>HTML5 å†å²æ¨¡å¼æˆ– hash æ¨¡å¼ï¼Œåœ¨ IE9 ä¸­è‡ªåŠ¨é™çº§</li> <li>è‡ªå®šä¹‰çš„æ»šåŠ¨æ¡è¡Œä¸º</li></ul> <div class="language- extra-class"><pre class="language-text"><code>// 0. å¦‚æœä½¿ç”¨æ¨¡å—åŒ–æœºåˆ¶ç¼–ç¨‹ï¼Œå¯¼å…¥Vueå’ŒVueRouterï¼Œè¦è°ƒç”¨ Vue.use(VueRouter)

// 1. å®šä¹‰ (è·¯ç”±) ç»„ä»¶ã€‚
// å¯ä»¥ä»å…¶ä»–æ–‡ä»¶ import è¿›æ¥
const Foo = { template: '&lt;div&gt;foo&lt;/div&gt;' }
const Bar = { template: '&lt;div&gt;bar&lt;/div&gt;' }

// 2. å®šä¹‰è·¯ç”±
// æ¯ä¸ªè·¯ç”±åº”è¯¥æ˜ å°„ä¸€ä¸ªç»„ä»¶ã€‚ å…¶ä¸­&quot;component&quot; å¯ä»¥æ˜¯
// é€šè¿‡ Vue.extend() åˆ›å»ºçš„ç»„ä»¶æ„é€ å™¨ï¼Œ
// æˆ–è€…ï¼Œåªæ˜¯ä¸€ä¸ªç»„ä»¶é…ç½®å¯¹è±¡ã€‚
const routes = [
  { path: '/foo', component: Foo },
  { path: '/bar', component: Bar }
]

// 3. åˆ›å»º router å®ä¾‹ï¼Œç„¶åä¼  `routes` é…ç½®
// ä½ è¿˜å¯ä»¥ä¼ åˆ«çš„é…ç½®å‚æ•°, ä¸è¿‡å…ˆè¿™ä¹ˆç®€å•ç€å§ã€‚
const router = new VueRouter({
  routes // (ç¼©å†™) ç›¸å½“äº routes: routes
})

// 4. åˆ›å»ºå’ŒæŒ‚è½½æ ¹å®ä¾‹ã€‚
// è®°å¾—è¦é€šè¿‡ router é…ç½®å‚æ•°æ³¨å…¥è·¯ç”±ï¼Œ
// ä»è€Œè®©æ•´ä¸ªåº”ç”¨éƒ½æœ‰è·¯ç”±åŠŸèƒ½
const app = new Vue({
  router
}).$mount('#app')
</code></pre></div><p><strong>vue-router</strong> é»˜è®¤ <strong>hash</strong> æ¨¡å¼ â€”â€” ä½¿ç”¨ URL çš„ hash æ¥æ¨¡æ‹Ÿä¸€ä¸ªå®Œæ•´çš„ URLï¼Œäºæ˜¯å½“ URL æ”¹å˜æ—¶ï¼Œé¡µé¢ä¸ä¼šé‡æ–°åŠ è½½,è¿™ç§æ¨¡å¼åˆ©ç”¨ç›‘å¬<strong>onhashchange</strong>äº‹ä»¶ï¼Œæ¥å®ç°é¡µé¢çš„è·³è½¬ï¼›å¦‚æœä¸æƒ³è¦å¾ˆä¸‘çš„ hashï¼Œæˆ‘ä»¬å¯ä»¥ç”¨è·¯ç”±çš„ <strong>history</strong> æ¨¡å¼ï¼Œè¿™ç§æ¨¡å¼å……åˆ†åˆ©ç”¨ <strong>history.pushState</strong> API æ¥å®Œæˆ URL è·³è½¬è€Œæ— é¡»é‡æ–°åŠ è½½é¡µé¢ã€‚</p> <div class="language- extra-class"><pre class="language-text"><code>const router = new VueRouter({
  mode: 'history',
  routes: [...]
})
</code></pre></div><p>å½“ä½ ä½¿ç”¨ history æ¨¡å¼æ—¶ï¼ŒURL å°±åƒæ­£å¸¸çš„ urlï¼Œä¾‹å¦‚     <code>http://yoursite.com/user/id</code>ï¼Œä¹Ÿå¥½çœ‹ï¼</p> <p>ä¸è¿‡è¿™ç§æ¨¡å¼è¦ç©å¥½ï¼Œè¿˜éœ€è¦åå°é…ç½®æ”¯æŒã€‚å› ä¸ºæˆ‘ä»¬çš„åº”ç”¨æ˜¯ä¸ªå•é¡µå®¢æˆ·ç«¯åº”ç”¨ï¼Œå¦‚æœåå°æ²¡æœ‰æ­£ç¡®çš„é…ç½®ï¼Œå½“ç”¨æˆ·åœ¨æµè§ˆå™¨ç›´æ¥è®¿é—® <code>http://oursite.com/user/id</code> å°±ä¼šè¿”å› 404ï¼Œè¿™å°±ä¸å¥½çœ‹äº†ã€‚</p> <p>æ‰€ä»¥å‘¢ï¼Œä½ è¦åœ¨æœåŠ¡ç«¯å¢åŠ ä¸€ä¸ªè¦†ç›–æ‰€æœ‰æƒ…å†µçš„å€™é€‰èµ„æºï¼šå¦‚æœ URL åŒ¹é…ä¸åˆ°ä»»ä½•é™æ€èµ„æºï¼Œåˆ™åº”è¯¥è¿”å›åŒä¸€ä¸ª index.html é¡µé¢ï¼Œè¿™ä¸ªé¡µé¢å°±æ˜¯ä½  app ä¾èµ–çš„é¡µé¢ã€‚</p> <h2 id="_7-çŠ¶æ€ç®¡ç†vuex"><a href="#_7-çŠ¶æ€ç®¡ç†vuex" aria-hidden="true" class="header-anchor">#</a> 7. çŠ¶æ€ç®¡ç†Vuex</h2> <blockquote><p>Vuex æ˜¯ä¸€ä¸ªä¸“ä¸º Vue.js åº”ç”¨ç¨‹åºå¼€å‘çš„çŠ¶æ€ç®¡ç†æ¨¡å¼ã€‚å®ƒé‡‡ç”¨é›†ä¸­å¼å­˜å‚¨ç®¡ç†åº”ç”¨çš„æ‰€æœ‰ç»„ä»¶çš„çŠ¶æ€ï¼Œå¹¶ä»¥ç›¸åº”çš„è§„åˆ™ä¿è¯çŠ¶æ€ä»¥ä¸€ç§å¯é¢„æµ‹çš„æ–¹å¼å‘ç”Ÿå˜åŒ–ã€‚</p></blockquote> <p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªå®Œæ•´çš„vuexç†å¿µçš„ç®€å•ç¤ºæ„ï¼š
<img src="https://user-gold-cdn.xitu.io/2019/7/7/16bcca170bba2f2a?w=701&amp;h=551&amp;f=png&amp;s=8112" alt=""></p> <ul><li>stateï¼Œé©±åŠ¨åº”ç”¨çš„æ•°æ®æºï¼›</li> <li>viewï¼Œä»¥å£°æ˜æ–¹å¼å°† state æ˜ å°„åˆ°è§†å›¾ï¼›</li> <li>actionsï¼Œå“åº”åœ¨ view ä¸Šçš„ç”¨æˆ·è¾“å…¥å¯¼è‡´çš„çŠ¶æ€å˜åŒ–;</li> <li>mutations, æ›´æ”¹ Vuex çš„ store ä¸­çš„çŠ¶æ€çš„å”¯ä¸€æ–¹æ³•æ˜¯æäº¤ mutation;</li></ul> <p>ä¸€èˆ¬ä¸ºäº†é€»è¾‘æ¸…æ™°ï¼Œä¼šæŒ‰é¡µé¢å¯¹storeè¿›è¡Œmoduleçš„åŒºåˆ†ï¼Œä¸€ä¸ªå®Œæ•´çš„module-storeå¦‚ä¸‹ï¼š</p> <div class="language- extra-class"><pre class="language-text"><code>const moduleA = {
    state: { ... },
    mutations: { . . . },
    actions: { ... ),
    getters: { ... )
};
</code></pre></div><div class="language-! extra-class"><pre class="language-text"><code>ä½¿ç”¨Vuexè¿›è¡Œæ•°æ®ç®¡ç†æ˜¯æœ‰ä¸€å®šéš¾åº¦çš„ï¼Œå¦‚æœæ‚¨ä¸æ‰“ç®—å¼€å‘å¤§å‹å•é¡µåº”ç”¨ï¼Œä½¿ç”¨ Vuex å¯èƒ½æ˜¯ç¹çå†—ä½™çš„ã€‚ç¡®å®æ˜¯å¦‚æ­¤â€”â€”å¦‚æœæ‚¨çš„åº”ç”¨å¤Ÿç®€å•ï¼Œæ‚¨æœ€å¥½ä¸è¦ä½¿ç”¨ Vuexã€‚ä¸€ä¸ªç®€å•çš„ global event buså°±è¶³å¤Ÿæ‚¨æ‰€éœ€äº†ã€‚ä½†æ˜¯ï¼Œå¦‚æœæ‚¨éœ€è¦æ„å»ºæ˜¯ä¸€ä¸ªä¸­å¤§å‹å•é¡µåº”ç”¨ï¼Œæ‚¨å¾ˆå¯èƒ½ä¼šè€ƒè™‘å¦‚ä½•æ›´å¥½åœ°åœ¨ç»„ä»¶å¤–éƒ¨ç®¡ç†çŠ¶æ€ï¼ŒVuex å°†ä¼šæˆä¸ºè‡ªç„¶è€Œç„¶çš„é€‰æ‹©ã€‚
</code></pre></div><h2 id="_8-æœåŠ¡ç«¯æ¸²æŸ“nuxt-js"><a href="#_8-æœåŠ¡ç«¯æ¸²æŸ“nuxt-js" aria-hidden="true" class="header-anchor">#</a> 8. æœåŠ¡ç«¯æ¸²æŸ“Nuxt.js</h2> <blockquote><p>Vue.js æ˜¯æ„å»ºå®¢æˆ·ç«¯åº”ç”¨ç¨‹åºçš„æ¡†æ¶ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå¯ä»¥åœ¨æµè§ˆå™¨ä¸­è¾“å‡º Vue ç»„ä»¶ï¼Œè¿›è¡Œç”Ÿæˆ DOM å’Œæ“ä½œ DOMã€‚ç„¶è€Œï¼Œä¹Ÿå¯ä»¥å°†åŒä¸€ä¸ªç»„ä»¶æ¸²æŸ“ä¸ºæœåŠ¡å™¨ç«¯çš„ HTML å­—ç¬¦ä¸²ï¼Œå°†å®ƒä»¬ç›´æ¥å‘é€åˆ°æµè§ˆå™¨ï¼Œæœ€åå°†è¿™äº›é™æ€æ ‡è®°&quot;æ¿€æ´»&quot;ä¸ºå®¢æˆ·ç«¯ä¸Šå®Œå…¨å¯äº¤äº’çš„åº”ç”¨ç¨‹åºã€‚</p></blockquote> <p>ä¸ä¼ ç»Ÿ <strong>SPA</strong> (å•é¡µåº”ç”¨ç¨‹åº (Single-Page Application)) ç›¸æ¯”ï¼ŒæœåŠ¡å™¨ç«¯æ¸²æŸ“ (<strong>SSR</strong>) çš„ä¼˜åŠ¿ä¸»è¦åœ¨äºï¼š</p> <ol><li>æ›´å¥½çš„ SEOï¼Œç”±äºæœç´¢å¼•æ“çˆ¬è™«æŠ“å–å·¥å…·å¯ä»¥ç›´æ¥æŸ¥çœ‹å®Œå…¨æ¸²æŸ“çš„é¡µé¢ã€‚</li> <li>æ›´å¿«çš„å†…å®¹åˆ°è¾¾æ—¶é—´ (time-to-content)ï¼Œç‰¹åˆ«æ˜¯å¯¹äºç¼“æ…¢çš„ç½‘ç»œæƒ…å†µæˆ–è¿è¡Œç¼“æ…¢çš„è®¾å¤‡ã€‚</li></ol> <p><strong>Nuxt.js</strong>ååˆ†ç®€å•æ˜“ç”¨,å¤©ç„¶ä¸ºVueè€Œç”Ÿ(<strong>Next.js</strong>ä¸º<strong>React</strong>è€Œç”Ÿ);Nuxt.js æ˜¯ä¸€ä¸ªåŸºäº Vue.js çš„é€šç”¨åº”ç”¨æ¡†æ¶ï¼Œé¢„è®¾äº†åˆ©ç”¨Vue.jså¼€å‘æœåŠ¡ç«¯æ¸²æŸ“çš„åº”ç”¨æ‰€éœ€è¦çš„å„ç§é…ç½®ã€‚ä¸€ä¸ªç®€å•çš„é¡¹ç›®åªéœ€å°† nuxt æ·»åŠ ä¸ºä¾èµ–ç»„ä»¶å³å¯ï¼Œæ›´å¤šç»†èŠ‚<a href="https://zh.nuxtjs.org/guide" target="_blank" rel="noopener noreferrer">è¯·æˆ³è¿™é‡Œ<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>;</p></div> <div class="content page-nav"><p class="inner"><span class="prev">â†
          <a href="/blog/blog/vue-react.html" class="prev">Vueå’ŒReactçš„ä¸€äº›åŒºåˆ«</a></span> <span class="next"><a href="/blog/blog/webpcak.html">ä¸€æ–‡é€Ÿè§ˆWebpack</a>â†’
        </span></p></div></div> <!----></div> <div class="tool-group"><!----></div></div></div> <footer class="footer"><span>å¦‚æœè¯´äººç”Ÿæ˜¯ä¸€åœºæ—…è¡Œï¼Œè€Œæˆ‘æ˜¯è¿™åœºæ—…è¡Œçš„ä¸»äºº!</span></footer></div><div class="global-ui"><!----></div></div>
    <script src="/blog/assets/js/app.426b1919.js" defer></script><script src="/blog/assets/js/8.723e2475.js" defer></script><script src="/blog/assets/js/3.79418191.js" defer></script><script src="/blog/assets/js/16.d48bf774.js" defer></script><script src="/blog/assets/js/19.ff47a288.js" defer></script><script src="/blog/assets/js/13.7908793c.js" defer></script><script src="/blog/assets/js/64.fcc0d5d9.js" defer></script><script src="/blog/assets/js/5.da195e96.js" defer></script>
  </body>
</html>
